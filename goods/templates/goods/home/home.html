{% extends '_base.html' %}
{% load staticfiles %}
{% load cloudinary %}

{% block content %}
  <div class="container homepage-slider-container">
    <div class="row-fluid">
        <div class="col-sm-12" style="padding-left:0px; padding-right:0px">
            <div class="homepage-slider">
                <ul class="slides">
                    <li style="background-image: url('http://res.cloudinary.com/trouvaay/image/upload/v1420784952/ntzplqwftcxnqxierk4g.jpg');">
		    <h2>Find unique home décor in local SF stores</h2>
                    </li>
                </ul>
            </div>
        </div>
    </div>
  </div>
  
  
  <div class="container-fluid how-it-works layer">
    <div class="row-fluid">
	<h2>How it works</h2>
	<div class="col-md-4 statement"><img src="{% static 'img/magnifying_glass.svg' %}">New or vintage, we do the hunting for you</div>
	<div class="col-md-4 statement"><img src="{% static 'img/delivery_truck.svg' %} " height="70">Once you buy, we deliver – white gloves and all – for low to no cost.</div>
	<div class="col-md-4 statement"><img src="{% static 'img/calendar.svg' %}">New pieces posted daily. Check in before they’re gone.</div>
        <div class="col-sm-12">
            <div class="heading main-quote">
              <div class="row">
              <div class="col-sm-12">
                More treasure less hunting
              </div>
              </div>
            </div>
        </div>
    </div>
  </div>
  <div class="container-fluid layer">
    <div class="grid-products-wrapper">
	<div class="row-fluid">
		<h2>Featured items</h2>
	</div>
        <div class="row-fluid">
            {% for product in products %}
            <div class="col-xs-12 col-sm-6 col-m-4" style="padding-bottom: 3rem; border-bottom: lightgray 1px solid">
                <div class="grid-product centered-parent">
                    <div class="centered-child detail-image-large">
                            {% cloudinary product.productimage_set.first.image width=350 height=300 crop="fit" %}
                    </div>
                    <div class="centered-child detail-image-med">
                            {% cloudinary product.productimage_set.first.image width=300 height=300 crop="fit" %}
                    </div>
                    <div class="centered-child detail-image-small">
                            {% cloudinary product.productimage_set.first.image width=275 height=275 crop="fit" %}
                    </div>
                    <a href="{% url 'goods:detail' product.id  %}" class="view-product">
                        <div class="text">View product</div>
                        <div class="background"></div>
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
      </div>
    </div>
{% endblock content %}
{% block endjs %}{% include 'js/addlikeditems.html' %}{% endblock endjs %}
<!--<script type="text/javascript">
          //add 'active' class to any heart of products user has liked

	function  getpoints (userloc) {
    var products = {{ products_json|safe }};
    var userloc = {
     // 'lat': userloc.coords.latitude,
     // 'lng': userloc.coords.longitude,
     'lat': 37.798530,
    'lng': -122.417966,
    };
      
      var userpos = new google.maps.LatLng(userloc.lat, userloc.lng);
      initializemap(products, userloc);
      for (i in products) {
        add_dists(userpos,products[i],i);
      } 
    };

  function add_dists(userpos, prod, prodnum) {
    var productpos = new google.maps.LatLng(prod.fields.lat, prod.fields.lng);
    var request = {
          origin: userpos,
          destination: productpos,
          travelMode: google.maps.TravelMode.DRIVING
      };
    var directionsService = new google.maps.DirectionsService();
    directionsService.route(request, function(result, status) {
          if (status == google.maps.DirectionsStatus.OK) {
          }
          $(".dist").eq(prodnum).append('</br>('+result.routes[0].legs[0].distance.text+')');
        });
  };
	navigator.geolocation.getCurrentPosition(getpoints);
</script>-->
